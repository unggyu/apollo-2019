(this["webpackJsonpapollo-2020"]=this["webpackJsonpapollo-2020"]||[]).push([[0],{94:function(n,e,i){"use strict";i.r(e);var t=i(5),r=(i(2),i(68)),o=i.n(r),c=i(32),a=i(9),u=i(10),d=i(29),l=i.n(d),s=i(52),v=i(12);function b(){var n=Object(u.a)(["\n    width: 25%;\n    height: 60%;\n    background-color: transparent;\n    background-image: url(",");\n    background-size: cover;\n    background-position: center center;\n"]);return b=function(){return n},n}function g(){var n=Object(u.a)(["\n    font-size: 28px;\n"]);return g=function(){return n},n}function j(){var n=Object(u.a)(["\n    font-size: 35px;\n    margin-bottom: 10px;\n"]);return j=function(){return n},n}function f(){var n=Object(u.a)(["\n    font-size: 65px;\n    margin-bottom: 15px;\n"]);return f=function(){return n},n}function p(){var n=Object(u.a)(["\n    margin-left: 10px;\n    width: 50%;\n"]);return p=function(){return n},n}function h(){var n=Object(u.a)(["\n    height: 100vh;\n    background-image: linear-gradient(-45deg, #d754ab, #fd723a);\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    color: white;\n"]);return h=function(){return n},n}function m(){var n=Object(u.a)(["\n    query getMovie($id: Int!) {\n        movie(id: $id) {\n            id\n            title\n            medium_cover_image\n            language\n            rating\n            description_intro\n            isLiked @client\n        }\n        suggestions(id: $id) {\n            id\n            medium_cover_image\n        }\n    }\n"]);return m=function(){return n},n}var x=l()(m()),O=v.a.div(h()),k=v.a.div(p()),L=v.a.h1(f()),w=v.a.h4(j()),y=v.a.p(g()),_=v.a.div(b(),(function(n){return n.bg})),M=function(){var n,e,i,r,o=Object(a.e)().id,c=Object(s.useQuery)(x,{variables:{id:+o}}),u=c.loading,d=c.data;return Object(t.jsxs)(O,{children:[Object(t.jsxs)(k,{children:[Object(t.jsx)(L,{children:u?"Loading...":"".concat(d.movie.title," ").concat(d.movie.isLiked?"\ud83d\udc96":"\ud83d\ude1e")}),Object(t.jsxs)(w,{children:[null===d||void 0===d||null===(n=d.movie)||void 0===n?void 0:n.language," \xb7 ",null===d||void 0===d||null===(e=d.movie)||void 0===e?void 0:e.rating]}),Object(t.jsx)(y,{children:null===d||void 0===d||null===(i=d.movie)||void 0===i?void 0:i.description_intro})]}),Object(t.jsx)(_,{bg:null===d||void 0===d||null===(r=d.movie)||void 0===r?void 0:r.medium_cover_image})]})},z=i(74);function $(){var n=Object(u.a)(["\n    background-image: url(",");\n    height: 100%;\n    width: 100%;\n    background-size: cover;\n    background-position: center center;\n    border-radius: 7px;\n"]);return $=function(){return n},n}function I(){var n=Object(u.a)(["\n    height: 400px;\n    border-radius: 7px;\n    width: 100%;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n    background-color: transparent;\n"]);return I=function(){return n},n}function A(){var n=Object(u.a)(["\n    mutation toggleLikeMovie($id: Int!, $isLiked: Boolean!) {\n        toggleLikeMovie(id: $id, isLiked: $isLiked) @client\n    }\n"]);return A=function(){return n},n}var C=l()(A()),Q=v.a.div(I()),q=v.a.div($(),(function(n){return n.bg})),B=function(n){var e=n.id,i=n.bg,r=n.isLiked,o=Object(s.useMutation)(C,{variables:{id:parseInt(e),isLiked:r}}),a=Object(z.a)(o,1)[0];return Object(t.jsxs)(Q,{children:[Object(t.jsx)(c.b,{to:"/".concat(e),children:Object(t.jsx)(q,{bg:i})}),Object(t.jsx)("button",{onClick:a,children:r?"Unlike":"Like"})]})};function J(){var n=Object(u.a)(["\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-gap: 25px;\n    width: 60%;\n    position: relative;\n    top: -50px;\n"]);return J=function(){return n},n}function E(){var n=Object(u.a)(["\n    font-size: 18px;\n    opacity: 0.5;\n    font-weight: 500;\n    margin-top: 10px;\n"]);return E=function(){return n},n}function G(){var n=Object(u.a)(["\n    font-size: 35px;\n"]);return G=function(){return n},n}function P(){var n=Object(u.a)(["\n    font-size: 60px;\n    font-weight: 600;\n    margin-bottom: 20px;\n"]);return P=function(){return n},n}function U(){var n=Object(u.a)(["\n    background-image: linear-gradient(-45deg, #d754ab, #fd723a);\n    height: 45vh;\n    color: white;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n"]);return U=function(){return n},n}function D(){var n=Object(u.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n"]);return D=function(){return n},n}function F(){var n=Object(u.a)(["\n    {\n        movies {\n            id\n            medium_cover_image\n            isLiked @client\n        }\n    }\n"]);return F=function(){return n},n}var H=l()(F()),K=v.a.div(D()),N=v.a.header(U()),R=v.a.h1(P()),S=v.a.h3(G()),T=v.a.div(E()),V=v.a.div(J()),W=function(){var n,e=Object(s.useQuery)(H),i=e.loading,r=e.data;return Object(t.jsxs)(K,{children:[Object(t.jsxs)(N,{children:[Object(t.jsx)(R,{children:"Apollo 2020"}),Object(t.jsx)(S,{children:"I love GraphQL"})]}),i&&Object(t.jsx)(T,{children:"Loading..."}),Object(t.jsx)(V,{children:null===r||void 0===r||null===(n=r.movies)||void 0===n?void 0:n.map((function(n){return Object(t.jsx)(B,{id:n.id,isLiked:n.isLiked,bg:n.medium_cover_image},n.id)}))})]})};var X=function(){return Object(t.jsxs)(c.a,{children:[Object(t.jsx)(a.a,{exact:!0,path:"/",component:W}),Object(t.jsx)(a.a,{path:"/:id",component:M})]})},Y=new s.ApolloClient({uri:"https://movieql.unggyu.vercel.app/",cache:new s.InMemoryCache,resolvers:{Movie:{isLiked:function(){return!1}},Mutation:{toggleLikeMovie:function(n,e,i){var t=e.id,r=e.isLiked,o=i.cache;console.log(r);var c={__typename:"Movie",id:"".concat(t),isLiked:"".concat(r)};o.modify({id:o.identify(c),fields:{isLiked:function(n){return!r}}})}}}});o.a.render(Object(t.jsx)(s.ApolloProvider,{client:Y,children:Object(t.jsx)(X,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.a78f9eaf.chunk.js.map